<?xml version="1.0" encoding="UTF-8"?>
<!-- Created with Jaspersoft Studio version 6.6.0.final using JasperReports Library version 6.6.0  -->
<jasperReport xmlns="http://jasperreports.sourceforge.net/jasperreports" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:schemaLocation="http://jasperreports.sourceforge.net/jasperreports http://jasperreports.sourceforge.net/xsd/jasperreport.xsd" name="travel_sheet_report" pageWidth="595" pageHeight="842" columnWidth="555" leftMargin="20" rightMargin="20" topMargin="20" bottomMargin="20" uuid="0a62b5ff-8814-49e2-8d65-8d671f46bf0f">
	<property name="com.jaspersoft.studio.data.defaultdataadapter" value="postgres Server"/>
	<property name="com.jaspersoft.studio.data.sql.tables" value=""/>
	<parameter name="IMEIS" class="java.lang.String"/>
	<parameter name="INI_DATE" class="java.lang.String"/>
	<parameter name="END_DATE" class="java.lang.String"/>
	<parameter name="STOP_TIME" class="java.lang.String"/>
	<queryString>
		<![CDATA[select d.imei ,v.* ,vc.name type_vehicle
from devices d 
inner join device_vehicle dv on d.id = dv.device_id 
inner join vehicles v on v.id = dv.vehicle_id
inner join vehicle_classifications vc on vc.id = v.classification_vehicle_id
where v.state = 'messages.state.enable' 
and   dv.state = 'messages.state.enable'
and   d.state = 'messages.state.enable'
and   d.imei in ($P!{IMEIS})]]>
	</queryString>
	<field name="imei" class="java.lang.String"/>
	<field name="id" class="java.lang.Integer"/>
	<field name="name" class="java.lang.String"/>
	<field name="brand" class="java.lang.String"/>
	<field name="model" class="java.lang.String"/>
	<field name="color" class="java.lang.String"/>
	<field name="state" class="java.lang.String"/>
	<field name="license_plate" class="java.lang.String"/>
	<field name="odometer" class="java.math.BigDecimal"/>
	<field name="odometer_unit" class="java.lang.String"/>
	<field name="engine_hours" class="java.math.BigDecimal"/>
	<field name="engine_hours_unit" class="java.lang.String"/>
	<field name="fuel_price" class="java.math.BigDecimal"/>
	<field name="fuel_unit" class="java.lang.String"/>
	<field name="stop_unit" class="java.lang.String"/>
	<field name="min_movement_speed" class="java.math.BigDecimal"/>
	<field name="min_engine_idle_speed" class="java.math.BigDecimal"/>
	<field name="classification_vehicle_id" class="java.lang.Integer"/>
	<field name="summer_rate" class="java.math.BigDecimal"/>
	<field name="winter_rate" class="java.math.BigDecimal"/>
	<field name="winter_from" class="java.sql.Date"/>
	<field name="winter_to" class="java.sql.Date"/>
	<field name="created_at" class="java.sql.Timestamp"/>
	<field name="updated_at" class="java.sql.Timestamp"/>
	<field name="group_id" class="java.lang.Integer"/>
	<field name="year" class="java.lang.String"/>
	<field name="type_vehicle" class="java.lang.String"/>
	<background>
		<band splitType="Stretch"/>
	</background>
	<pageHeader>
		<band height="74" splitType="Stretch">
			<image>
				<reportElement x="0" y="0" width="200" height="47" uuid="d180a1cb-42a1-4059-8ad6-941c131bf4ec"/>
				<imageExpression><![CDATA["http://recupero.ubicar.com.bo/images/logo.png"]]></imageExpression>
			</image>
			<staticText>
				<reportElement x="0" y="44" width="70" height="30" uuid="490a66b3-a07d-4251-98ac-30409c13266e"/>
				<textElement>
					<font isBold="true"/>
				</textElement>
				<text><![CDATA[Generado :]]></text>
			</staticText>
			<textField isStretchWithOverflow="true">
				<reportElement x="70" y="44" width="100" height="30" uuid="7d6300b4-df8e-4643-b30c-4a216f5f5489"/>
				<textFieldExpression><![CDATA[$P{INI_DATE}.replace( "'", " " )]]></textFieldExpression>
			</textField>
			<textField isStretchWithOverflow="true">
				<reportElement x="180" y="44" width="100" height="30" uuid="e316605b-8467-43e9-b12a-fdc98ad6f204"/>
				<textFieldExpression><![CDATA[$P{END_DATE}.replace( "'", " " )]]></textFieldExpression>
			</textField>
			<staticText>
				<reportElement x="290" y="0" width="264" height="74" uuid="ccea8f22-5b4b-430b-8b39-1c77af2b5976"/>
				<textElement textAlignment="Center" verticalAlignment="Middle">
					<font size="20" isBold="true"/>
				</textElement>
				<text><![CDATA[Reporte Hoja de Ruta]]></text>
			</staticText>
		</band>
	</pageHeader>
	<detail>
		<band height="211" splitType="Stretch">
			<subreport>
				<reportElement x="0" y="0" width="555" height="211" uuid="b95a0ab0-fe25-427d-b5b5-a65ddaa0c7cb"/>
				<subreportParameter name="IMEI">
					<subreportParameterExpression><![CDATA[$F{imei}]]></subreportParameterExpression>
				</subreportParameter>
				<subreportParameter name="INI_DATE">
					<subreportParameterExpression><![CDATA[$P{INI_DATE}]]></subreportParameterExpression>
				</subreportParameter>
				<subreportParameter name="END_DATE">
					<subreportParameterExpression><![CDATA[$P{END_DATE}]]></subreportParameterExpression>
				</subreportParameter>
				<subreportParameter name="STOP_UNIT">
					<subreportParameterExpression><![CDATA[CLEAN($F{stop_unit} )]]></subreportParameterExpression>
				</subreportParameter>
				<subreportParameter name="STOP_TIME">
					<subreportParameterExpression><![CDATA[$P{STOP_TIME}]]></subreportParameterExpression>
				</subreportParameter>
				<subreportParameter name="MIN_MOV_SPEED">
					<subreportParameterExpression><![CDATA[$F{min_movement_speed}]]></subreportParameterExpression>
				</subreportParameter>
				<subreportParameter name="SUMMER_RATE">
					<subreportParameterExpression><![CDATA[$F{summer_rate}]]></subreportParameterExpression>
				</subreportParameter>
				<subreportParameter name="WINTER_RATE">
					<subreportParameterExpression><![CDATA[$F{winter_rate}]]></subreportParameterExpression>
				</subreportParameter>
				<subreportParameter name="WINTER_FROM">
					<subreportParameterExpression><![CDATA[$F{winter_from}]]></subreportParameterExpression>
				</subreportParameter>
				<subreportParameter name="WINTER_TO">
					<subreportParameterExpression><![CDATA[$F{winter_to}]]></subreportParameterExpression>
				</subreportParameter>
				<subreportParameter name="FUEL_COST">
					<subreportParameterExpression><![CDATA[$F{fuel_price}]]></subreportParameterExpression>
				</subreportParameter>
				<subreportParameter name="NAME_VEHICLE">
					<subreportParameterExpression><![CDATA[$F{name}]]></subreportParameterExpression>
				</subreportParameter>
				<subreportParameter name="TYPE_VEHICLE">
					<subreportParameterExpression><![CDATA[$F{type_vehicle}]]></subreportParameterExpression>
				</subreportParameter>
				<connectionExpression><![CDATA[$P{REPORT_CONNECTION}]]></connectionExpression>
				<subreportExpression><![CDATA["C:/xampp/htdocs/2v-tracker/public/JasperReports/travelSheed/sub_report_sheet_report.jasper"]]></subreportExpression>
			</subreport>
		</band>
	</detail>
</jasperReport>
